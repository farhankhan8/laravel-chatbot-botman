(()=>{"use strict";var e="#visitorTbl";$("#visitorTbl").DataTable({processing:!0,serverSide:!0,order:[[0,"asc"]],ajax:{url:visitorUrl,data:function(e){e.purpose=$("#purposeArr").find("option:selected").val()}},columnDefs:[{targets:[9],orderable:!1,className:"text-center",width:"8%"},{targets:[8],orderable:!1},{targets:"_all",defaultContent:"N/A"}],columns:[{data:function(e){return 1==e.purpose?"Visit":2==e.purpose?"Enquiry":"Seminar"},name:"purpose"},{data:"name",name:"name"},{data:function(e){return isEmpty(e.phone)?"N/A":e.phone},name:"phone"},{data:function(e){return isEmpty(e.id_card)?"N/A":e.id_card},name:"id_card"},{data:function(e){return isEmpty(e.no_of_person)?"N/A":e.no_of_person},name:"no_of_person"},{data:function(e){return isEmpty(e.date)?"N/A":e.date},name:"date"},{data:function(e){return isEmpty(e.in_time)?"N/A":e.in_time},name:"in_time"},{data:function(e){return isEmpty(e.out_time)?"N/A":e.out_time},name:"out_time"},{data:function(e){return""!=e.document_url?'<a href="'+(downloadDocumentUrl+"/"+e.id)+'">Download</a>':"N/A"},name:"id"},{data:function(e){var t=visitorUrl+e.id,n=[{id:e.id,url:t+"/edit"}];return prepareTemplateRender("#visitorActionTemplate",n)},name:"id"}],fnInitComplete:function(){$("#purposeArr").change((function(){$(e).DataTable().ajax.reload(null,!0)}))}});$(document).on("click",".delete-btn",(function(t){var n=$(t.currentTarget).data("id");deleteItem(visitorUrl+n,e,"Visitor")})),$(document).ready((function(){$("#purposeArr").select2({width:"100%"})}))})();