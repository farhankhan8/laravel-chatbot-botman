(()=>{"use strict";var a=$("#insurancesTbl").DataTable({processing:!0,serverSide:!0,order:[[0,"asc"]],ajax:{url:insuranceUrl,data:function(a){a.status=$("#filter_status").find("option:selected").val()}},columnDefs:[{targets:"_all",defaultContent:"N/A"},{targets:[1,4,5],className:"text-right"},{targets:[6],orderable:!1,className:"text-center",width:"5%"},{targets:[7],orderable:!1,className:"text-center",width:"8%"}],columns:[{data:function(a){return'<a href="'+(insuranceUrl+"/"+a.id)+'">'+a.name+"</a>"},name:"name"},{data:function(a){return isEmpty(a.service_tax)?"N/A":'<p class="cur-margin">'+getCurrentCurrencyClass()+" "+addCommas(a.service_tax)+"</p>"},name:"service_tax"},{data:"insurance_no",name:"insurance_no"},{data:"insurance_code",name:"insurance_code"},{data:function(a){return isEmpty(a.hospital_rate)?"N/A":'<p class="cur-margin">'+getCurrentCurrencyClass()+" "+addCommas(a.hospital_rate)+"</p>"},name:"hospital_rate"},{data:function(a){return isEmpty(a.total)?"N/A":'<p class="cur-margin">'+getCurrentCurrencyClass()+" "+addCommas(a.total)+"</p>"},name:"total"},{data:function(a){var e=0==a.status?"":"checked",t=[{id:a.id,checked:e}];return prepareTemplateRender("#insuranceStatusTemplate",t)},name:"status"},{data:function(a){var e=insuranceUrl+"/"+a.id,t=[{id:a.id,url:e+"/edit"}];return prepareTemplateRender("#insuranceActionTemplate",t)},name:"id"}],fnInitComplete:function(){$("#filter_status").change((function(){$("#insurancesTbl").DataTable().ajax.reload(null,!0)}))}});$(document).on("click",".delete-btn",(function(a){var e=$(a.currentTarget).data("id");deleteItem(insuranceUrl+"/"+e,"#insurancesTbl","Insurance")})),$(document).on("change",".status",(function(a){var e=$(a.currentTarget).data("id");updateStatus(e)})),window.updateStatus=function(e){$.ajax({url:insuranceUrl+"/"+e+"/active-deactive",method:"post",cache:!1,success:function(e){e.success&&a.ajax.reload(null,!1)}})}})();