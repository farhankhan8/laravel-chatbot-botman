(()=>{"use strict";var e=$("#ambulancesTbl").DataTable({processing:!0,serverSide:!0,order:[[0,"asc"]],ajax:{url:ambulanceUrl,data:function(e){e.is_available=$("#filter_status").find("option:selected").val()}},columnDefs:[{targets:"_all",defaultContent:"N/A"},{targets:[6,7,8],orderable:!1,className:"text-center",width:"10%"}],columns:[{data:"vehicle_number",name:"vehicle_number"},{data:"vehicle_model",name:"vehicle_model"},{data:"year_made",name:"year_made"},{data:"driver_name",name:"driver_name"},{data:"driver_license",name:"driver_license"},{data:"driver_contact",name:"driver_contact"},{data:function(e){return 1==e.vehicle_type?"Owned":"Contractual"},name:"vehicle_type"},{data:function(e){var a=0==e.is_available?"":"checked",t=[{id:e.id,checked:a}];return prepareTemplateRender("#ambulanceIsAvailableTemplate",t)},name:"is_available"},{data:function(e){var a=ambulanceUrl+"/"+e.id,t=[{id:e.id,url:a+"/edit",viewUrl:a}];return prepareTemplateRender("#ambulanceActionTemplate",t)},name:"id"}],fnInitComplete:function(){$("#filter_status").change((function(){$("#ambulancesTbl").DataTable().ajax.reload(null,!0)}))}});$(document).on("click",".delete-btn",(function(e){var a=$(e.currentTarget).data("id");deleteItem(ambulanceUrl+"/"+a,"#ambulancesTbl","Ambulance")})),$(document).on("change",".is-active",(function(e){var a=$(e.currentTarget).data("id");updateIsAvailable(a)})),window.updateIsAvailable=function(a){$.ajax({url:ambulanceUrl+"/"+a+"/active-deactive",method:"post",cache:!1,success:function(a){a.success&&e.ajax.reload(null,!1)}})}})();