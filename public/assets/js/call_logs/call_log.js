(()=>{"use strict";var e="#callLogTbl";$("#callLogTbl").DataTable({processing:!0,serverSide:!0,order:[[0,"asc"]],ajax:{url:callLogUrl,data:function(e){e.call_type=$("#callType").find("option:selected").val()}},columnDefs:[{targets:[5],orderable:!1,className:"text-center",width:"8%"},{targets:"_all",defaultContent:"N/A"}],columns:[{data:"name",name:"name"},{data:function(e){return isEmpty(e.phone)?"N/A":e.phone},name:"phone"},{data:function(e){return e},render:function(e){return null===e.date?"N/A":moment(e.date).format("Do MMM, Y")},name:"date"},{data:function(e){return e},render:function(e){return null===e.follow_up_date?"N/A":moment(e.follow_up_date).format("Do MMM, Y")},name:"follow_up_date"},{data:function(e){return e.call_type==callTypeIncoming?incoming:outgoing},name:"call_type"},{data:function(e){var a=callLogUrl+e.id,t=[{id:e.id,url:a+"/edit"}];return prepareTemplateRender("#callLogActionTemplate",t)},name:"id"}],fnInitComplete:function(){$("#callType").change((function(){$(e).DataTable().ajax.reload(null,!0)}))}});$("#callType").select2(),$(document).on("click",".delete-btn",(function(a){var t=$(a.currentTarget).data("id");deleteItem(callLogUrl+t,e,"Call Log")}))})();