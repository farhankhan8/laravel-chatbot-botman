(()=>{"use strict";$("#vaccinationsTable").DataTable({processing:!0,serverSide:!0,order:[[0,"desc"]],ajax:{url:vaccinationUrl},columnDefs:[{targets:[3],className:"text-center",orderable:!1,width:"8%"},{targets:"_all",defaultContent:"N/A"}],columns:[{data:"name",name:"name"},{data:"manufactured_by",name:"manufactured_by"},{data:"brand",name:"brand"},{data:function(a){var e=[{id:a.id}];return prepareTemplateRender("#vaccinationActionTemplate",e)},name:"name"}]});$(document).on("submit","#addNewForm",(function(a){a.preventDefault();var e=jQuery(this).find("#btnSave");e.button("loading"),$.ajax({url:vaccinationCreateUrl,type:"POST",data:$(this).serialize(),success:function(a){a.success&&(displaySuccessMessage(a.message),$("#addModal").modal("hide"),$("#vaccinationsTable").DataTable().ajax.reload(null,!1),setTimeout((function(){e.button("reset")}),2500))},error:function(a){printErrorMessage("#validationErrorsBox",a),setTimeout((function(){e.button("reset")}),2e3)}})})),$("#addModal").on("hidden.bs.modal",(function(){resetModalForm("#addNewForm","#validationErrorsBox")})),$(document).on("click",".edit-btn",(function(a){if(!ajaxCallIsRunning){ajaxCallInProgress();var e=$(a.currentTarget).attr("data-id");renderData(e)}})),window.renderData=function(a){$.ajax({url:vaccinationUrl+"/"+a+"/edit",type:"GET",success:function(a){if(a.success){var e=a.data;$("#vaccinationId").val(e.id),$("#editName").val(e.name),$("#editManufacturedBy").val(e.manufactured_by),$("#editBrand").val(e.brand),$("#editModal").modal("show"),ajaxCallCompleted()}},error:function(a){manageAjaxErrors(a)}})},$(document).on("submit","#editForm",(function(a){a.preventDefault();var e=jQuery(this).find("#btnEditSave");e.button("loading");var t=$("#vaccinationId").val();$.ajax({url:vaccinationUrl+"/"+t+"/update",type:"post",data:$(this).serialize(),success:function(a){a.success&&(displaySuccessMessage(a.message),$("#editModal").modal("hide"),$("#vaccinationsTable").DataTable().ajax.reload(null,!1))},error:function(a){manageAjaxErrors(a)},complete:function(){e.button("reset")}})})),$(document).on("click",".delete-btn",(function(a){var e=$(a.currentTarget).data("id");deleteItem(vaccinationUrl+"/"+e,"#vaccinationsTable","Vaccination")}))})();