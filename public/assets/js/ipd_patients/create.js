(()=>{"use strict";$(document).ready((function(){$("#patientId, #caseId, #doctorId, #bedTypeId, #bedId").select2({width:"100%"}),$("#admissionDate").datetimepicker(DatetimepickerDefaults({format:"YYYY-MM-DD HH:mm:ss",useCurrent:!0,sideBySide:!0})),isEdit?($("#patientId, #bedTypeId").trigger("change"),$("#admissionDate").data("DateTimePicker").minDate($("#admissionDate").val())):$("#admissionDate").data("DateTimePicker").minDate(new Date),$(".floatNumber").keyup((function(){if(-1!=$(this).val().indexOf(".")&&$(this).val().split(".")[1].length>2){if(isNaN(parseFloat(this.value)))return;this.value=parseFloat(this.value).toFixed(2)}return this})),$("#createIpdPatientForm, #editIpdPatientDepartmentForm").submit((function(){$("#btnSave").attr("disabled",!0)}))})),$("#patientId").on("change",(function(){""!==$(this).val()&&$.ajax({url:patientCasesUrl,type:"get",dataType:"json",data:{id:$(this).val()},success:function(e){0!==e.data.length?($("#caseId").empty(),$("#caseId").removeAttr("disabled"),$.each(e.data,(function(e,t){$("#caseId").append($("<option></option>").attr("value",e).text(t))}))):$("#caseId").prop("disabled",!0)}}),$("#caseId").empty(),$("#caseId").prop("disabled",!0)})),$("#bedTypeId").on("change",(function(){var e=null,t=null;if("undefined"!=typeof ipdPatientBedId&&"undefined"!=typeof ipdPatientBedTypeId&&(e=ipdPatientBedId,t=ipdPatientBedTypeId),""!==$(this).val()){var d=$(this).val();$.ajax({url:patientBedsUrl,type:"get",dataType:"json",data:{id:$(this).val(),isEdit,bedId:e,ipdPatientBedTypeId:t},success:function(e){null!==e.data?0!==e.data.length&&($("#bedId").empty(),$("#bedId").removeAttr("disabled"),$.each(e.data,(function(e,t){$("#bedId").append($("<option></option>").attr("value",e).text(t))})),"undefined"!=typeof ipdPatientBedId&&"undefined"!=typeof ipdPatientBedTypeId&&d===ipdPatientBedTypeId&&$("#bedId").val(ipdPatientBedId).trigger("change.select2"),$("#bedId").prop("required",!0)):$("#bedId").prop("disabled",!0)}})}$("#bedId").empty(),$("#bedId").prop("disabled",!0)}))})();